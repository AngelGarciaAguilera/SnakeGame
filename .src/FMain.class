' Gambas class file


Private culebra As Serpiente
Private iPasos As Integer

Public Sub BJugar_Click()

  culebra = New Serpiente(200, 200, 2, "W")
  iPasos = 1
  Reloj.Start()

End

Public Sub BJugar_KeyPress()

  If (Key.Text = "ENTER") Then 
    Reloj.Start()
  Endif

End

Public Sub Reloj_Timer()
  
  iPasos = iPasos + 1
  
  If iPasos = 5 Then 
    culebra.crecer()
    iPasos = 1
  Else 
  culebra.moverse()
  Endif 
  
  Print culebra.estasMuerta(DTablero)
  DTablero.Refresh()

End

Public Sub DTablero_Draw()
  
  If (culebra <> Null) Then 
    
    culebra.pintarse(DTablero)
    
  Endif 

End

Public Sub DTablero_KeyPress()

  If (Key.Text = "W" Or Key.Text = "A" Or Key.Text = "S" Or Key.Text = "D") Then 
    culebra.cambiarDir(Key.Text)
  Endif

End

Public Sub Form_KeyPress()

  If (Key.Text = "W" Or Key.Text = "A" Or Key.Text = "S" Or Key.Text = "D") Then 
    culebra.cambiarDir(Key.Text)
  Endif

End
